<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIP Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="page-header">
    <div>
        <h1>SIP Admin Dashboard</h1>
        <p>实时监控用户、消息和通话记录</p>
    </div>
    <div class="header-actions">
        <button id="refresh-btn" class="btn">刷新数据</button>
        <span id="last-updated" class="timestamp">&mdash;</span>
    </div>
</header>

<main class="layout">
    <section class="card-grid" aria-label="Key metrics">
        <article class="card">
            <p>总用户数</p>
            <strong id="metric-total">0</strong>
        </article>
        <article class="card">
            <p>在线用户</p>
            <strong id="metric-online">0</strong>
        </article>
        <article class="card">
            <p>通话次数</p>
            <strong id="metric-calls">0</strong>
        </article>
        <article class="card">
            <p>今日消息</p>
            <strong id="metric-messages">0</strong>
        </article>
    </section>

    <section class="panel">
        <div class="panel-header">
            <h2>用户列表</h2>
        </div>
        <div class="panel-body">
            <table>
                <thead>
                <tr>
                    <th>用户名</th>
                    <th>显示名</th>
                    <th>状态</th>
                </tr>
                </thead>
                <tbody id="users-body" data-columns="3">
                <tr>
                    <td colspan="3" class="placeholder">加载中...</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="panel">
        <div class="panel-header">
            <h2>消息记录</h2>
        </div>
        <div class="panel-body">
            <table>
                <thead>
                <tr>
                    <th>发送者</th>
                    <th>接收者</th>
                    <th>内容</th>
                    <th>时间</th>
                </tr>
                </thead>
                <tbody id="messages-body" data-columns="4">
                <tr>
                    <td colspan="4" class="placeholder">加载中...</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="panel">
        <div class="panel-header">
            <h2>通话记录</h2>
        </div>
        <div class="panel-body">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>主叫</th>
                    <th>被叫</th>
                    <th>时长(秒)</th>
                    <th>时间</th>
                </tr>
                </thead>
                <tbody id="calls-body" data-columns="5">
                <tr>
                    <td colspan="5" class="placeholder">加载中...</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>

<footer class="page-footer">
    <p>数据每 10 秒自动刷新</p>
</footer>

<script type="module" src="app.js"></script>
</body>
</html>
