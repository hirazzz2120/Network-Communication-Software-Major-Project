# SIP Web å‰ç«¯

åŸºäº React + TypeScript + Vite çš„ SIP é€šä¿¡ Web å®¢æˆ·ç«¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… ç”¨æˆ·ç™»å½•ï¼ˆSIP æ³¨å†Œï¼‰
- âœ… å®æ—¶æ¶ˆæ¯æ”¶å‘
- âœ… ä¼šè¯åˆ—è¡¨ç®¡ç†
- âœ… è”ç³»äººåˆ—è¡¨
- âœ… WebSocket å®æ—¶é€šçŸ¥
- ğŸ”„ è¯­éŸ³/è§†é¢‘é€šè¯ï¼ˆå¼€å‘ä¸­ï¼‰
- ğŸ”„ WebRTC åª’ä½“å¤„ç†ï¼ˆå¼€å‘ä¸­ï¼‰

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 5
- **UI ç»„ä»¶**: Ant Design 5
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®è¯·æ±‚**: Axios + React Query
- **WebSocket**: Socket.IO Client
- **è·¯ç”±**: React Router v6

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd web-frontend
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

ç”Ÿæˆçš„æ–‡ä»¶åœ¨ `dist/` ç›®å½•ã€‚

## é¡¹ç›®ç»“æ„

```
web-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ client.ts     # Axios å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯ API
â”‚   â”‚   â”œâ”€â”€ message.ts    # æ¶ˆæ¯ API
â”‚   â”‚   â”œâ”€â”€ call.ts       # å‘¼å« API
â”‚   â”‚   â””â”€â”€ user.ts       # ç”¨æˆ· API
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx   # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”‚   â””â”€â”€ ChatWindow.tsx # èŠå¤©çª—å£
â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx   # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ MainPage.tsx    # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ChatPage.tsx    # èŠå¤©é¡µ
â”‚   â”‚   â”œâ”€â”€ CallPage.tsx    # é€šè¯é¡µ
â”‚   â”‚   â””â”€â”€ ContactsPage.tsx # è”ç³»äººé¡µ
â”‚   â”œâ”€â”€ stores/           # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ chat.ts       # èŠå¤©çŠ¶æ€
â”‚   â”‚   â””â”€â”€ call.ts       # é€šè¯çŠ¶æ€
â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ websocket.ts  # WebSocket å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ api.ts        # API ç±»å‹
â”‚   â”œâ”€â”€ App.tsx           # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx          # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css         # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

## ç¯å¢ƒé…ç½®

å¼€å‘ç¯å¢ƒé»˜è®¤ä»£ç†åˆ°åç«¯æœåŠ¡å™¨ï¼š

- API: http://localhost:8081/api
- WebSocket: ws://localhost:8081/ws

å¦‚éœ€ä¿®æ”¹ï¼Œç¼–è¾‘ `vite.config.ts`ï¼š

```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://your-backend-server:8081',
        changeOrigin: true,
      },
    },
  },
})
```

## ä½¿ç”¨è¯´æ˜

### ç™»å½•

1. è¾“å…¥ SIP URIï¼ˆå¦‚ï¼š`sip:alice@192.168.1.100:5060`ï¼‰
2. è¾“å…¥å¯†ç 
3. è¾“å…¥æœ¬åœ° IP å’Œç«¯å£
4. ç‚¹å‡»ç™»å½•

### å‘é€æ¶ˆæ¯

1. åœ¨ä¼šè¯åˆ—è¡¨é€‰æ‹©æˆ–æ–°å»ºä¼šè¯
2. åœ¨è¾“å…¥æ¡†è¾“å…¥æ¶ˆæ¯
3. æŒ‰å›è½¦æˆ–ç‚¹å‡»å‘é€æŒ‰é’®

### æŸ¥çœ‹è”ç³»äºº

ç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„"è”ç³»äºº"æ ‡ç­¾ï¼ŒæŸ¥çœ‹æ‰€æœ‰åœ¨çº¿ç”¨æˆ·ã€‚

## API æ–‡æ¡£

è¯¦ç»†çš„ API æ¥å£è§„èŒƒè¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„ `API-SPECIFICATION.md`ã€‚

## å¼€å‘æ³¨æ„äº‹é¡¹

1. **TypeScript ä¸¥æ ¼æ¨¡å¼**ï¼šé¡¹ç›®å¯ç”¨äº† TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œè¯·ç¡®ä¿ç±»å‹å®šä¹‰å®Œæ•´ã€‚

2. **WebSocket è¿æ¥**ï¼šç™»å½•æˆåŠŸåè‡ªåŠ¨è¿æ¥ WebSocketï¼Œé€€å‡ºç™»å½•æ—¶è‡ªåŠ¨æ–­å¼€ã€‚

3. **Token ç®¡ç†**ï¼šToken å­˜å‚¨åœ¨ localStorageï¼Œè¿‡æœŸåè‡ªåŠ¨è·³è½¬ç™»å½•é¡µã€‚

4. **çŠ¶æ€æŒä¹…åŒ–**ï¼šè®¤è¯çŠ¶æ€ä½¿ç”¨ Zustand persist ä¸­é—´ä»¶æŒä¹…åŒ–åˆ° localStorageã€‚

## æ•…éšœæ’æŸ¥

### æ— æ³•è¿æ¥åç«¯

- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼ˆ`mvn -pl admin-server spring-boot:run`ï¼‰
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ç½‘ç»œè¯·æ±‚

### WebSocket è¿æ¥å¤±è´¥

- ç¡®è®¤ WebSocket æœåŠ¡å™¨åœ°å€æ­£ç¡®
- æ£€æŸ¥ Token æ˜¯å¦æœ‰æ•ˆ
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### ä¾èµ–å®‰è£…å¤±è´¥

```bash
# æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

## å¾…å¼€å‘åŠŸèƒ½

- [ ] WebRTC éŸ³é¢‘é€šè¯é›†æˆ
- [ ] è§†é¢‘é€šè¯ç•Œé¢
- [ ] æ–‡ä»¶ä¼ è¾“
- [ ] æ¶ˆæ¯æ’¤å›
- [ ] ç¾¤èŠåŠŸèƒ½
- [ ] é€šè¯å½•éŸ³
- [ ] æˆªå›¾åŠŸèƒ½
- [ ] è¡¨æƒ…åŒ…

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºè¯¾ç¨‹å­¦ä¹ ã€‚
